<div class="container">
  <div class="row">
    <div class="col-12">
      <div *ngIf="singleProductEdit$">
        <mat-card>
          <form [formGroup]="editFormHandel" class="example-form">

            <p>
              <mat-form-field appearance="outline">
                <mat-label>Name Product</mat-label>
                <input formControlName="name" matInput type="text" />
                <mat-error> {{name.hasError ? "name is required": null}} </mat-error>
              </mat-form-field>
            </p>


            <p>
              <mat-form-field appearance="outline">
                <mat-label>Select Category</mat-label>
                <mat-select formControlName="categoryRef">
                  <mat-option *ngFor="let category of categories$ | async" [value]="category._id">{{
                    category.nameCategory
                    }}
                  </mat-option>
                </mat-select>
                <mat-error> {{categoryRef.hasError ? "category is required": null}} </mat-error>
              </mat-form-field>
            </p>

            <p>
              <mat-form-field appearance="outline">
                <mat-label>Product price</mat-label>
                <input formControlName="price" matInput type="number" />
                <mat-error> {{price.hasError ? "price is required": null}} </mat-error>
              </mat-form-field>
            </p>
            <p>
              <mat-form-field appearance="outline">
                <mat-label>Product description</mat-label>
                <input formControlName="description" matInput type="text" />
                <mat-error> {{description.hasError ? "description is required": null}} </mat-error>
              </mat-form-field>
            </p>

            <p>
              <mat-form-field appearance="outline">
                <mat-label>Product Image</mat-label>
                <input formControlName="imgUrl" matInput type="text" />
                <mat-error> {{imgUrl.hasError("required") ? "imgUrl is required": null}} </mat-error>
                <mat-error> {{imgUrl.hasError("pattern") ? "imgUrl must start with http and end with png": null}}
                </mat-error>
              </mat-form-field>
            </p>

            <div>
              <button [disabled]="!editFormHandel.valid" (click)="onSave()" mat-fab color="primary"
                aria-label="Example icon button with a delete icon">
                <mat-icon>save_alt</mat-icon>
              </button>
            </div>
          </form>
        </mat-card>
      </div>
    </div>
  </div>
</div>